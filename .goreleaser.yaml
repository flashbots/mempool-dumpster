version: 2

# https://goreleaser.com/customization/builds/go/
builds:
  - id: mempool-dumpster
    env:
      # Force build to be all Go.
      - CGO_ENABLED=0
    flags:
      # Remove all file system paths from the executable.
      - -trimpath
    ldflags:
      # Sets the value of the symbol.
      - -X github.com/flashbots/mempool-dumpster/common.Version={{.Version}}
    goos:
      - linux
      - darwin
    goarch:
      - amd64
      - arm64
      - riscv64
    ignore:
      - goos: darwin
        goarch: riscv64

# https://goreleaser.com/customization/release/
release:
  draft: true
  extra_files:
    - glob: ./build/*
  header: |
    # ğŸš€ Features
    # ğŸ„ Enhancements
    # ğŸ Notable bug fixes
    # ğŸ”– Version updates
    # ğŸ  Community